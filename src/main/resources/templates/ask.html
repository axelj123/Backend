<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" th:href="@{/css/ask.css}">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@500;600&display=swap" rel="stylesheet">
    <title>Crear Post</title>
</head>
<body>
 <header>

        <a href="index.html" class="logo"><img src="/assets/logo03.png" alt="Conexión Vallejo Logo"><span>Conexión
                Vallejo</span></a>
 
       
 <div class="search-container">
                        <input type="text" placeholder="Buscar en la comunidad">
                        <button type="submit">Buscar</button>
                    </div>
            <div class="bx bx-menu" id="menu-icon"> </div>
            
            <div class="main">
            <a href="/logins" class="user">Mi cuenta</a>

            <div class="bx bx-menu" id="menu-icon"> </div></div> 
    </header>
    
    <div class="container">
     <nav>
            <ol>
                <li><a href="#" class="principal">Inicio</a></li>
                <li><a href="#" class="principal">Preguntas</a></li>
                <li><a href="#" class="principal">Tags</a></li>
                <li><a href="#">Guardado</a></li>
                <li><a href="#">Usuarios</a></li>
    
            </ol>
            
        </nav>    
    
    </div>
      
           
<div class="formbold-main-wrapper">

  <div class="formbold-form-wrapper">
     <img src="/assets/ask.jpg">
    <form >
    

      <h1 class="h1Title"> Realiza una pregunta</h1>

      <div class="formbold-mb-3">
        <label for="age" class="formbold-form-label" > Titulo  </label>
        <input
          type="text"
          placeholder="Aqui va el titulo de tu pregunta"
          name="age"
          id="age"
          class="formbold-form-input"
        />
      </div>

      <div class="formbold-mb-3">
        <label for="message" class="formbold-form-label">
          Detalla tu problema
        </label>
        
        <textarea
          rows="6"
          name="message"
          id="message"
          class="formbold-form-input"
        ></textarea>
        
      </div>

      <div class="formbold-mb-3">
        <label for="address" class="formbold-form-label"> Tags </label>

        <input
          type="text"
          name="address"
          id="address"
          placeholder="e.g (sql) (html)"
          class="formbold-form-input formbold-mb-3"
        />
       
      </div>


      <div class="formbold-form-file-flex">
        <label for="upload" class="formbold-form-label">
          Upload Resume
        </label>
        <input
          type="file"
          name="upload"
          id="upload"
          class="formbold-form-file"
        />
      </div>

      <button class="formbold-btn">Apply Now</button>
    </form>
  </div>
</div>

<!-- Primero, carga el script de TinyMCE -->
<script src="https://cdn.tiny.cloud/1/yp52mnx2aguw9bclo49883smh1eet4y6fh251qlpwdsg19gy/tinymce/5/tinymce.min.js" referrerpolicy="origin"></script>

<!-- Luego, inicializa TinyMCE en tu textarea -->
<script>
    tinymce.init({
        selector: '#message',
        plugins: 'advlist autolink lists link image charmap print preview anchor codesample', // Agrega 'codesample' al listado de plugins
        toolbar: 'undo redo | formatselect | bold italic | alignleft aligncenter alignright | bullist numlist outdent indent | link image | codesample', // Agrega 'codesample' a la barra de herramientas
        menubar: false,
        height: 300,
        language: 'es',
        codesample_languages: [
            { text: 'Plain Text', value: 'plaintext' },
            { text: 'Java', value: 'java' },
            { text: 'JavaScript', value: 'javascript' },
            { text: 'HTML', value: 'html' },
            { text: 'CSS', value: 'css' },
            { text: 'Python', value: 'python' },
            { text: 'Ruby', value: 'ruby' },
            { text: 'PHP', value: 'php' },
            { text: 'C++', value: 'cpp' },
            { text: 'C#', value: 'csharp' },
            { text: 'Swift', value: 'swift' },
            { text: 'SQL', value: 'sql' },
            // Agrega más lenguajes según necesites
        ],
    images_upload_url: '/upload_image', // URL para manejar la carga de imágenes
    automatic_uploads: true // Habilita la carga automática de imágenes
    });
    
    
    
 // Función para guardar los datos del formulario en cookies
    function saveFormDataToCookies() {
        var formData = {
            title: document.getElementById('age').value,
            message: document.getElementById('message').value,
            address: document.getElementById('address').value
        };

        // Convertir el objeto formData a JSON y guardarlo en una cookie llamada 'formData'
        document.cookie = 'formData=' + JSON.stringify(formData) + '; expires=-1';
    }

    // Función para cargar los datos del formulario desde cookies cuando se carga la página
    function loadFormDataFromCookies() {
        var cookies = document.cookie.split(';');
        var formDataCookie = cookies.find(cookie => cookie.trim().startsWith('formData='));

        if (formDataCookie) {
            var formDataJson = formDataCookie.split('=')[1];
            var formData = JSON.parse(formDataJson);

            // Llenar los campos del formulario con los datos cargados desde las cookies
            document.getElementById('age').value = formData.title;
            document.getElementById('message').value = formData.message;
            document.getElementById('address').value = formData.address;
        }
    }

    // Llamar a la función loadFormDataFromCookies cuando se carga la página para cargar los datos guardados
    window.onload = loadFormDataFromCookies;

    // Llamar a la función saveFormDataToCookies cada vez que se cambia un campo del formulario
    document.getElementById('age').addEventListener('input', saveFormDataToCookies);
    document.getElementById('message').addEventListener('input', saveFormDataToCookies);
    document.getElementById('address').addEventListener('input', saveFormDataToCookies);

</script>

</body>
</html>
